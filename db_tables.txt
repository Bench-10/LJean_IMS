# HERE ATE THE FOLLOWING TABLES FOR THE DATABASE


CREATE TABLE Branch (
    branch_id INT PRIMARY KEY,
    branch_name VARCHAR(255) NOT NULL,
    address VARCHAR(255) NOT NULL
);


INSERT INTO Branch (branch_id, branch_name, address) VALUES (1, 'L-Jean Trading', 'Balagtas, Batangas');

INSERT INTO Branch (branch_id, branch_name, address) VALUES (2, 'Vinseth Trading', 'Banaba South, Batangas');

INSERT INTO Branch (branch_id, branch_name, address) VALUES (3, 'MaraJean Trading', 'Libjo Central, Batangas');

INSERT INTO Branch (branch_id, branch_name, address) VALUES (4, 'El Jean Construction Supply', 'San Antonio San Pascual, Batangas');
INSERT INTO Branch (branch_id, branch_name, address) VALUES (5, 'Cams Trading', 'Mababang Ludlod Taal, Batangas');

INSERT INTO Branch (branch_id, branch_name, address) VALUES (6, 'Seth and L-Jean Trading', 'Banay-Banay San Jose, Batangas');





CREATE TABLE Administrator (
    admin_id SERIAL PRIMARY KEY,
    role VARCHAR(30),
    username VARCHAR(225),
    password VARCHAR(225),
    first_name VARCHAR(100),
    last_name VARCHAR(100)
);


INSERT INTO Administrator (admin_id, role, username, password, first_name, last_name)
VALUES (1, 'Owner', 'admin123', '$2b$12$XohURN8fGR5.ZyHsBiEB3uINqdi1PAOiV1HfapBhWENyWDesb8G86', 'Bench Christian', 'Dela Luna'); --Pasword is: password





CREATE TABLE Users (
    user_id INT PRIMARY KEY,
    branch_id INT NOT NULL,
    role VARCHAR(255) NOT NULL,
    first_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255) NOT NULL,
    cell_number VARCHAR(255) NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    hire_date DATE DEFAULT CURRENT_DATE,
    last_login VARCHAR(40),
    permissions VARCHAR(255),
    address VARCHAR(255),
    FOREIGN KEY(branch_id) REFERENCES Branch(branch_id)
);


INSERT INTO Users (
    user_id, branch_id, role, first_name, last_name, cell_number,
    is_active, hire_date, last_login, permissions, address
) VALUES
(1, 1, 'Inventory Staff', 'Cathy', 'Portillo', '09674529545',
 TRUE, '2023-01-15', '2025-08-06 09:00:00', 'read,write', '123 Main St'),

(2, 2, 'Inventory Staff', 'Nicole', 'Lacsamana', '09674836545',
 TRUE, '2023-02-01', '2025-08-05 15:30:00', 'read', '456 Pine Rd'),

(3, 3, 'Inventory Staff', 'Louise', 'Ordunia', '09605621545',
 FALSE, '2023-03-10', NULL, 'read', '789 Elm Ave'),

(5, 1, 'Branch Manager', 'Bench', 'Dela Luna', '09674529545',
 TRUE, '2022-12-01', '2025-08-06 08:45:00', 'read,write,manage', '1010 Mango Blvd');





CREATE TABLE Login_Credentials (
    user_id INT PRIMARY KEY,
    username VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL,
    FOREIGN KEY (user_id) REFERENCES Users(user_id) ON DELETE CASCADE
);


INSERT INTO Login_Credentials (user_id, username, password) VALUES
(1, 'cathy.p', '3f32a3be7731fa62caa6c8c18a696678:d3cc7560bf234d4b87a20daeef8b4033'),--cathy123
(2, 'nicole.l', 'dd021916d595656228a614b648bf9d20:0605369925550b5f86a2e13bfaa7b5ce'),--nicole123
(3, 'louise.o', 'b49d297ac727b22043975b17d9427126:836449099c7430e55bc7d53ea9e6395f'),--louise123
(5, 'bench.d', '65b1a872bd00a5efbf1253ff5505a539:6d615f06b1d15dab62388f76f6a522a2');--bench123





CREATE TABLE Category (
    category_id SERIAL PRIMARY KEY,
    category_name VARCHAR(255) NOT NULL
);





create table Inventory_Product(
	product_id serial primary key,
	category_id int not null,
	branch_id int not null,
	product_name varchar(255) not null,
	unit varchar(15) not null,
	unit_price  decimal(10,2) not null,
	unit_cost  decimal(10,2) not null,
	quantity int not null,
	threshold int not null,
	foreign key(category_id) references Category(category_id),
	foreign key(branch_id) references Branch(branch_id)
);





CREATE TABLE Inventory_Product (
    product_id SERIAL PRIMARY KEY,
    category_id INT NOT NULL,
    branch_id INT NOT NULL,
    product_name VARCHAR(255) NOT NULL,
    unit VARCHAR(15) NOT NULL,
    unit_price DECIMAL(10, 2) NOT NULL,
    unit_cost DECIMAL(10, 2) NOT NULL,
    quantity INT NOT NULL,
    threshold INT NOT NULL,
    FOREIGN KEY (category_id) REFERENCES Category(category_id),
    FOREIGN KEY (branch_id) REFERENCES Branch(branch_id)
);





CREATE TABLE Inventory_Alerts (
    alert_id SERIAL PRIMARY KEY,
    product_id INT,
    branch_id INT,
    alert_type VARCHAR(100),
    message VARCHAR(255),
    alert_date TIMESTAMP DEFAULT NOW(),
    is_read BOOL,
    FOREIGN KEY (product_id) REFERENCES Inventory_Product(product_id),
    FOREIGN KEY (branch_id) REFERENCES Branch(branch_id)
);





CREATE TABLE Inventory_Alerts (
    alert_id SERIAL PRIMARY KEY,
    product_id INT,
    branch_id INT,
    alert_type VARCHAR(100),
    message VARCHAR(255),
    banner_color VARCHAR(25),
    alert_date TIMESTAMP DEFAULT NOW(),
    FOREIGN KEY (product_id) REFERENCES Inventory_Product(product_id),
    FOREIGN KEY (branch_id) REFERENCES Branch(branch_id)
);





CREATE TABLE user_notification (
    user_id INT,
    alert_id INT,
    is_read BOOLEAN DEFAULT TRUE,
    FOREIGN KEY (user_id) REFERENCES Users(user_id),
    FOREIGN KEY (alert_id) REFERENCES Inventory_Alerts(alert_id)
);





CREATE TABLE Sales_Information (
    sales_information_id INT PRIMARY KEY,
	branch_id INT,
    charge_to VARCHAR(255),
    tin VARCHAR(50),
    address VARCHAR(255),
    date DATE,
    vat DECIMAL(10, 2),
    amount_net_vat DECIMAL(10, 2),
    total_amount_due DECIMAL(10, 2),
	FOREIGN KEY(branch_id) REFERENCES Branch(branch_id)
);





CREATE TABLE Sales_Items (
    product_item_id SERIAL PRIMARY KEY,
    sales_information_id INT,
    product_id INT,
    quantity INT,
    unit VARCHAR(50),
    unit_price DECIMAL(10, 2),
    amount DECIMAL(10, 2),
	FOREIGN KEY(sales_information_id) REFERENCES Sales_Information(sales_information_id),
	FOREIGN KEY(product_id) REFERENCES Inventory_Product(product_id)
);